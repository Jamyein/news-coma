# ==========================================
# 1-Pass 简化版配置
# 将2-pass AI评分系统重构为1-pass
# 配置项从20+减少到8项核心配置
# ==========================================

# ==========================================
# 数据源配置（与原版相同）
# ==========================================
rss_sources:
  - name: "TechCrunch"
    url: "https://techcrunch.com/feed/"
    weight: 1.0
    category: "科技"
    enabled: true
  
  - name: "GitHub Blog"
    url: "https://github.blog/feed/"
    weight: 1.0
    category: "开发"
    enabled: true
  
  - name: "Hacker News"
    url: "https://news.ycombinator.com/rss"
    weight: 1.5
    category: "技术"
    enabled: true
  
  - name: "The Verge"
    url: "https://www.theverge.com/rss/index.xml"
    weight: 0.9
    category: "科技"
    enabled: true
  
  - name: "The Economist"
    url: "https://www.economist.com/finance-and-economics/rss.xml"
    weight: 1.2
    category: "国际财经"
    enabled: true
  
  - name: "CNBC"
    url: "https://www.cnbc.com/id/10000664/device/rss/rss.html"
    weight: 1.4
    category: "国际财经"
    enabled: true
  
  - name: "BBC Business"
    url: "https://feeds.bbci.co.uk/news/business/rss.xml"
    weight: 1.3
    category: "国际财经"
    enabled: true

# ==========================================
# 1-Pass AI配置（简化版 - 8项核心配置）
# ==========================================
smart_ai:
  # 核心配置（2项）
  provider: "zhipu"
  
  providers_config:
    zhipu:
      api_key: "${ZHIPU_API_KEY}"
      base_url: "https://open.bigmodel.cn/api/paas/v4"
      model: "glm-4-flash"
      max_tokens: 65536
      temperature: 0.3
      batch_size: 10
      max_concurrent: 3
    
    deepseek:
      api_key: "${DEEPSEEK_API_KEY}"
      base_url: "https://api.deepseek.com/v1"
      model: "deepseek-chat"
      max_tokens: 4000
      temperature: 0.3
      batch_size: 10
      max_concurrent: 3
    
    gemini:
      api_key: "${GEMINI_API_KEY}"
      base_url: "https://generativelanguage.googleapis.com/v1beta/openai/"
      model: "gemini-3-flash-preview"
      max_tokens: 4000
      temperature: 0.3
      batch_size: 10
      max_concurrent: 1
  
  # 性能配置（4项）
  batch_size: 10              # 批次大小
  max_concurrent: 3           # 最大并发批次
  timeout_seconds: 90         # 超时时间（秒）
  max_output_items: 30        # 最大输出新闻数
  
  # 筛选配置（1项）
  diversity_weight: 0.3       # 多样性权重（0-1）
  
  # 评分标准
  scoring_criteria:
    importance: 0.30          # 重要性权重
    timeliness: 0.20          # 时效性权重
    technical_depth: 0.20     # 技术深度权重
    audience_breadth: 0.15    # 受众广度权重
    practicality: 0.15        # 实用性权重
  
  # 回退配置（简化）
  fallback_enabled: true
  fallback_chain:
    - "deepseek"
    - "gemini"

# ==========================================
# 输出配置
# ==========================================
output:
  max_news_count: 30          # 每期精选新闻数量
  max_feed_items: 50          # RSS feed保留条数
  archive_days: 30            # 归档保留天数
  time_window_days: 1         # 只处理最近N天的新闻
  use_smart_switch: true      # 是否启用智能切换

# ==========================================
# 过滤配置
# ==========================================
filters:
  min_score_threshold: 6.0    # 最低评分阈值
  blocked_keywords:           # 屏蔽关键词列表
    - "广告"
    - "推广"
    - "促销"
  use_semantic_dedup: true    # 启用TF-IDF语义去重
  semantic_similarity: 0.85   # 语义相似度阈值

# ==========================================
# 系统配置
# ==========================================
retry_attempts: 3
timeout: 120

# ==========================================
# 功能开关
# ==========================================
use_smart_scorer: true        # 启用1-Pass SmartScorer（设为false使用2-Pass）
